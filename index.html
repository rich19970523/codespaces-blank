<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>速达浏览器 - 官方网站</title>
    <!-- 引入 Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Font Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Tailwind configuration, including Inter font and red theme */
        html {
            scroll-behavior: smooth; /* Smooth scrolling */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8; /* Light gray background */
            color: #333; /* Dark gray text */
        }
        /* Define primary red color */
        .text-primary-red {
            color: #ef4444; /* Tailwind red-500 */
        }
        .bg-primary-red {
            background-color: #ef4444; /* Tailwind red-500 */
        }
        .border-primary-red {
            border-color: #ef4444; /* Tailwind red-500 */
        }
        .hover\:bg-primary-red:hover {
            background-color: #dc2626; /* Tailwind red-600 */
        }
        .hover\:text-primary-red:hover {
            color: #ef4444;
        }

        /* Animation effects */
        .fade-in {
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Button shadow effect */
        .btn-shadow {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
        }

        /* Modal specific styles for fade-in effect */
        .modal-enter-active, .modal-leave-active {
          transition: opacity 0.3s ease;
        }
        .modal-enter-from, .modal-leave-to {
          opacity: 0;
        }
        .modal-content-enter-active, .modal-content-leave-active {
            transition: transform 0.3s ease, opacity 0.3s ease; /* Added opacity to content transition for smoother fade */
        }
        .modal-content-enter-from, .modal-content-leave-to {
            transform: translateY(20px);
            opacity: 0; /* Ensures content also fades with slide */
        }

        /* Coming soon button style */
        .btn-coming-soon {
            background-color: #d1d5db; /* Tailwind gray-300 */
            color: #4b5563; /* Tailwind gray-700 */
            cursor: not-allowed;
            box-shadow: none;
        }
        /* Ensure consistent height for all buttons */
        .download-button {
            height: 52px; /* A fixed height that looks good with py-3 and text-lg */
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%; /* Make button span full width of its container */
        }
    </style>
</head>
<body class="antialiased">
    <!-- Navigation Bar -->
    <header class="bg-white shadow-lg sticky top-0 z-50 rounded-b-lg">
        <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
            <!-- Brand/Logo -->
            <div class="flex items-center space-x-2">
                <img src="https://suda.pw/picResource/logo-1%E7%99%BD%E5%BA%95@1024.jpg" onerror="this.onerror=null;this.src='https://placehold.co/32x32/ef4444/ffffff?text=Logo';" alt="速达浏览器 Logo" class="h-8 w-8 rounded-full">
                <a href="#" class="text-2xl font-bold text-gray-800">速达浏览器</a>
            </div>
            <!-- Nav Links -->
            <div class="hidden md:flex space-x-8">
                <a href="#home" class="text-gray-600 hover:text-primary-red text-lg font-medium transition-colors duration-300">首页</a>
                <a href="#features" class="text-gray-600 hover:text-primary-red text-lg font-medium transition-colors duration-300">功能</a>
                <a href="#download" class="text-gray-600 hover:text-primary-red text-lg font-medium transition-colors duration-300">下载</a>
                <a href="#about-us" class="text-gray-600 hover:text-primary-red text-lg font-medium transition-colors duration-300">关于我们</a>
            </div>
            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-600 focus:outline-none focus:text-primary-red">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu Content -->
        <div id="mobile-menu" class="md:hidden hidden bg-white py-2">
            <a href="#home" class="block px-6 py-3 text-gray-800 hover:bg-gray-100 transition-colors duration-300">首页</a>
            <a href="#features" class="block px-6 py-3 text-gray-800 hover:bg-gray-100 transition-colors duration-300">功能</a>
            <a href="#download" class="block px-6 py-3 text-gray-800 hover:bg-gray-100 transition-colors duration-300">下载</a>
            <a href="#about-us" class="block px-6 py-3 text-gray-800 hover:bg-gray-100 transition-colors duration-300">关于我们</a>
        </div>
    </header>

    <!-- Home/Hero Section -->
    <section id="home" class="bg-gradient-to-r from-red-50 to-white py-20 md:py-32 text-center rounded-b-xl shadow-lg fade-in">
        <div class="container mx-auto px-6 max-w-4xl">
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight mb-6">
                发现 <span class="text-primary-red">更安全</span>、<span class="text-primary-red">更快速</span>、<span class="text-primary-red">更智能</span> 的浏览体验
            </h1>
            <p class="text-lg md:text-xl text-gray-700 mb-10 leading-relaxed">
                速达浏览器致力于提供卓越的隐私保护、闪电般的加载速度和直观的用户界面，让您的上网体验前所未有。
            </p>
            <a href="#download" class="inline-block bg-primary-red text-white text-xl font-semibold py-4 px-10 rounded-full hover:bg-red-600 transition-all duration-300 transform hover:scale-105 btn-shadow">
                立即免费下载
            </a>
            <div class="mt-12">
                <!-- Browser mockup image -->
                <img src="https://suda.pw/main.png"
                     onerror="this.onerror=null;this.src='https://placehold.co/387x800/e0e0e0/555555?text=图片加载失败';"
                     alt="速达浏览器界面示意图" class="mx-auto rounded-lg" width="387" height="800">
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16 md:py-24 bg-white rounded-xl shadow-lg my-10">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center text-gray-900 mb-12">
                核心功能
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                <!-- Feature Card 1: Enhanced Privacy Protection - spans two columns -->
                <div class="md:col-span-2 bg-gray-50 p-8 rounded-xl shadow-md border-t-4 border-primary-red transform hover:scale-105 transition-transform duration-300">
                    <div class="text-primary-red mb-4">
                        <svg class="h-10 w-10" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 19.7c-3.9-.9-7-4.17-7-8.7V6.3l7-3.1 7 3.1v5.7c0 4.53-3.1 7.8-7 8.7zM15.5 12H14V9.5h-3V12H8.5l3.5 3.5 3.5-3.5z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-4">
                        增强隐私保护
                    </h3>
                    <p class="text-gray-700">
                        内置广告拦截器和跟踪保护，阻止不必要的跟踪和数据收集，让您的浏览更私密。
                    </p>
                </div>

                <!-- Feature Card 2: Lightning-Fast Speed -->
                <div class="bg-gray-50 p-8 rounded-xl shadow-md border-t-4 border-primary-red transform hover:scale-105 transition-transform duration-300">
                    <div class="text-primary-red mb-4">
                        <svg class="h-10 w-10" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M13 14H11V9h2v5zm0 8h-2v-2h2v2zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-4">
                        闪电般的速度
                    </h3>
                    <p class="text-gray-700">
                        优化加载机制，显著减少页面加载时间，享受无缝的上网体验。
                    </p>
                </div>

                <!-- Feature Card 3: Seamless Cross-Platform Sync -->
                <div class="bg-gray-50 p-8 rounded-xl shadow-md border-t-4 border-primary-red transform hover:scale-105 transition-transform duration-300">
                    <div class="text-primary-red mb-4">
                        <svg class="h-10 w-10" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18 10h-2V7c0-1.66-1.34-3-3-3S10 5.34 10 7v3H8c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-3 0V7c0-.55.45-1 1-1s1 .45 1 1v3h-2zm4 10H7v-8h11v8z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-4">
                        无缝跨平台同步
                    </h3>
                    <p class="text-gray-700">
                        书签、历史记录和密码在所有设备上同步，让您随时随地继续浏览。
                    </p>
                </div>

                <!-- New Feature Card: Smart VPN Tunnel -->
                <div class="bg-gray-50 p-8 rounded-xl shadow-md border-t-4 border-primary-red transform hover:scale-105 transition-transform duration-300">
                    <div class="text-primary-red mb-4">
                        <svg class="h-10 w-10" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8V7h2v4h4v2h-4v4h-2v-4H7v-2h4z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-4">
                        智能VPN隧道
                    </h3>
                    <p class="text-gray-700">
                        内置智能VPN隧道，保护您的在线隐私和安全，访问全球内容。
                    </p>
                </div>

                <!-- Feature Card 5: Smart Power Saving Mode -->
                <div class="bg-gray-50 p-8 rounded-xl shadow-md border-t-4 border-primary-red transform hover:scale-105 transition-transform duration-300">
                    <div class="text-primary-red mb-4">
                        <svg class="h-10 w-10" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M13 14H11V9h2v5zm0 8h-2v-2h2v2zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-4">
                        智能节能模式
                    </h3>
                    <p class="text-gray-700">
                        优化资源使用，延长设备电池寿命，尤其在移动设备上表现出色。
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section id="download" class="py-16 md:py-24 bg-primary-red text-white rounded-xl shadow-lg my-10">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-8">立即下载速达浏览器</h2>
            <p class="text-lg mb-12 max-w-2xl mx-auto">
                选择您的操作系统，开始体验更安全、更快速、更智能的上网之旅。
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 max-w-xl mx-auto">
                <!-- iOS Download -->
                <div class="bg-white text-gray-800 p-8 rounded-lg shadow-xl">
                    <img src="https://suda.pw/picResource/Apple_logo/pingguo.png" onerror="this.onerror=null;this.src='https://placehold.co/80x80/ef4444/ffffff?text=iOS';" alt="iOS Logo" class="mx-auto mb-4 h-20 w-20">
                    <h3 class="text-2xl font-semibold mb-4">iOS</h3>
                    <p class="mb-6">已登陆<br>App Store</p>
                    <a href="https://apps.apple.com/cn/app/%E7%99%BE%E5%BA%A6%E6%B5%8F%E8%A7%88%E5%99%A8/id789634484" target="_blank" class="inline-block bg-primary-red text-white text-lg font-semibold py-3 px-8 rounded-full hover:bg-red-600 transition-colors duration-300 btn-shadow download-button">
                        立即下载
                    </a>
                </div>
                <!-- Android Download -->
                <div class="bg-white text-gray-800 p-8 rounded-lg shadow-xl">
                    <img src="https://suda.pw/picResource/Android_logo/ai-app-2.png" onerror="this.onerror=null;this.src='https://placehold.co/80x80/ef4444/ffffff?text=Android';" alt="Android Logo" class="mx-auto mb-4 h-20 w-20">
                    <h3 class="text-2xl font-semibold mb-4">Android</h3>
                    <p class="mb-6">已登陆<br>Google Play</p>
                    <a href="https://play.google.com/store/apps/details?id=com.UCMobile.intl&hl=zh" target="_blank" class="inline-block bg-primary-red text-white text-lg font-semibold py-3 px-8 rounded-full hover:bg-red-600 transition-colors duration-300 btn-shadow download-button">
                        立即下载
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about-us" class="py-8 md:py-10 bg-white rounded-xl shadow-lg my-5">
        <div class="container mx-auto px-6 max-w-5xl">
            <h2 class="text-4xl font-bold text-center text-gray-900 mb-8">关于我们</h2>
            <div class="flex flex-col md:flex-row gap-4 justify-center">
                <!-- Privacy Policy Button -->
                <button id="privacy-policy-open-modal" class="flex-1 flex items-center justify-center text-xl font-bold text-gray-900 cursor-pointer bg-white p-5 rounded-lg shadow-md hover:bg-gray-100 transition-colors duration-300 border-b-2 border-primary-red">
                    <span>隐私政策</span>
                </button>
                <!-- Terms of Service Button -->
                <button id="terms-of-service-open-modal" class="flex-1 flex items-center justify-center text-xl font-bold text-gray-900 cursor-pointer bg-white p-5 rounded-lg shadow-md hover:bg-gray-100 transition-colors duration-300 border-b-2 border-primary-red">
                    <span>服务条款</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Legal Info Modal -->
    <div id="info-modal" class="fixed inset-0 bg-black bg-opacity50 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-lg shadow-2xl p-6 md:p-8 w-full max-w-2xl lg:max-w-3xl max-h-[90vh] overflow-y-auto relative">
            <button id="modal-close-button" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none focus:outline-none">&times;</button>
            <h3 id="modal-title" class="text-3xl font-bold text-gray-900 mb-6"></h3>
            <div id="modal-content-area" class="prose max-w-none text-gray-700 leading-relaxed text-lg">
                <!-- Content will be injected by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10 rounded-t-lg shadow-inner">
        <div class="container mx-auto px-6 text-center">
            <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                <div class="mb-4 md:mb-0">
                    <a href="#" class="text-2xl font-bold hover:text-primary-red transition-colors duration-300">速达浏览器</a>
                </div>
                <div class="flex space-x-6">
                    <a href="?show=privacy" class="text-gray-300 hover:text-primary-red transition-colors duration-300">隐私政策</a>
                    <a href="?show=terms" class="text-gray-300 hover:text-primary-red transition-colors duration-300">服务条款</a>
                </div>
            </div>
            <p class="text-gray-400 text-sm">&copy; 2025 速达浏览器。保留所有权利。</p>
        </div>
    </footer>

    <script>
        // JavaScript for handling mobile menu
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Hide menu when a menu item is clicked
            mobileMenu.querySelectorAll('a').forEach(item => {
                item.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });
        }

        // Legal information content (HTML strings)
        const privacyPolicyContent = `
            <p>
                速达浏览器（“我们”、“我们的”）致力于保护您的隐私。本隐私政策解释了当您使用我们的浏览器产品和服务时，我们如何收集、使用、披露和保护您的信息。
            </p>
            <h3>我们收集的信息</h3>
            <p>
                当您使用速达浏览器时，我们不会收集您的个人身份信息，除非您明确选择与我们共享这些信息（例如，通过报告问题或参与可选的调查）。我们可能收集非个人身份信息，例如：
            </p>
            <ul>
                <li><strong>技术数据：</strong> 您的设备类型、操作系统版本、浏览器版本（仅限速达浏览器版本）、崩溃报告（匿名化，不包含个人数据）。</li>
                <li><strong>使用数据：</strong> 匿名化的功能使用统计，旨在改进浏览器性能和用户体验。这些数据无法追溯到任何特定用户。</li>
            </ul>
            <h3>我们不收集的信息</h3>
            <p>
                速达浏览器设计旨在最大程度地保护您的隐私。我们<strong>不</strong>收集以下信息：
            </p>
            <ul>
                <li>您的浏览历史记录</li>
                <li>您的搜索查询</li>
                <li>您访问的网站</li>
                <li>您的个人身份信息，如姓名、电子邮件地址或IP地址（除非在法律要求下或您明确同意）</li>
                <li>您在网站上输入的内容</li>
            </ul>
            <h3>我们如何使用信息</h3>
            <p>
                我们收集的匿名信息仅用于以下目的：
            </p>
            <ul>
                <li>改进和优化速达浏览器的性能、稳定性和安全性。</li>
                <li>开发新功能和改进现有功能。</li>
                <li>理解和分析用户趋势（总计数据），以更好地服务用户。</li>
            </ul>
            <h3>信息共享与披露</h3>
            <p>
                我们不会出售、出租或以其他方式与第三方共享您的个人身份信息。我们可能在以下情况下披露非个人身份聚合数据：
            </p>
            <ul>
                <li><strong>服务提供商：</strong> 我们可能与信任的第三方服务提供商合作，他们为我们提供技术支持、分析服务等，并且他们被要求保护您的信息并仅按照我们的指示使用。</li>
                <li><strong>法律要求：</strong> 如果法律要求或为了遵守法律程序，我们可能披露信息。</li>
            </ul>
            <h3>您的权利</h3>
            <p>
                作为速达浏览器的用户，您拥有以下权利：
            </p>
            <ul>
                <li>访问和请求我们持有的关于您的任何非个人身份信息的副本。</li>
                <li>请求更正任何不准确的信息。</li>
                <li>请求删除您的信息（如果适用且可能）。</li>
            </ul>
            <h3>政策变更</h3>
            <p>
                我们可能会不时更新本隐私政策。任何更改都将在本页面发布，并通过浏览器内通知（如果适用）告知。建议您定期查看本页面以了解任何更新。
            </p>
            <h3>联系我们</h3>
            <p>
                如果您对本隐私政策有任何疑问，请通过 [您的支持邮箱，例如：support@futurebrowser.com] 与我们联系。
            </p>
        `;

        const termsOfServiceContent = `
            <p>
                欢迎使用速达浏览器！这些服务条款（“条款”）管辖您对速达浏览器产品和服务的使用。使用速达浏览器即表示您同意遵守这些条款。如果您不同意这些条款，请勿使用速达浏览器。
            </p>
            <h3>接受条款</h3>
            <p>
                通过下载、安装或使用速达浏览器，您确认您已阅读、理解并同意受这些条款的约束。
            </p>
            <h3>许可证</h3>
            <p>
                我们授予您非独家、不可转让、可撤销的有限许可，允许您根据这些条款使用速达浏览器。所有未明确授予您的权利均由我们保留。
            </p>
            <h3>用户行为</h3>
            <p>
                您同意在使用速达浏览器时不会：
            </p>
            <ul>
                <li>从事任何非法活动或违反任何适用法律法规。</li>
                <li>干扰或破坏速达浏览器及其服务器或网络的正常运行。</li>
                <li>尝试未经授权访问速达浏览器的任何部分。</li>
                <li>分发病毒、恶意软件或任何其他有害代码。</li>
            </ul>
            <h3>免责声明</h3>
            <p>
                速达浏览器按“现状”和“现有”提供，不作任何明示或暗示的保证，包括但不限于适销性、特定用途适用性和不侵权的保证。我们不保证速达浏览器将无错误、不间断或安全。
            </p>
            <h3>责任限制</h3>
            <p>
                在适用法律允许的最大范围内，我们对因您使用速达浏览器而引起的或与之相关的任何间接、偶然、特殊、后果性或惩罚性损害不承担责任，即使我们已被告知发生此类损害的可能性。
            </p>
            <h3>第三方网站和内容</h3>
            <p>
                速达浏览器可能包含指向第三方网站或内容的链接。我们不对这些第三方网站或内容负责，您使用它们的风险由您自行承担。
            </p>
            <h3>终止</h3>
            <p>
                我们可以随时自行决定暂停或终止您对速达浏览器的访问，恕不另行通知，包括但不限于违反这些条款。
            </p>
            <h3>条款变更</h3>
            <p>
                我们保留随时修改或替换这些条款的权利。如果更改是实质性的，我们将在生效前至少提前30天通知您。在任何更改生效后继续使用速达浏览器即表示您同意受修订后的条款约束。
            </p>
            <h3>适用法律</h3>
            <p>
                这些条款受 [您的国家/地区，例如：中华人民共和国] 法律管辖和解释，不考虑其冲突法原则。
            </p>
            <h3>联系信息</h3>
            <p>
                如果您对这些服务条款有任何疑问，请通过 [您的支持邮箱，例如：support@futurebrowser.com] 与我们联系。
            </p>
        `;

        // Get DOM elements
        const privacyPolicyButton = document.getElementById('privacy-policy-open-modal');
        const termsOfServiceButton = document.getElementById('terms-of-service-open-modal');
        const infoModal = document.getElementById('info-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContentArea = document.getElementById('modal-content-area');
        const modalCloseButton = document.getElementById('modal-close-button');
        const modalContentDiv = infoModal.querySelector('div'); // Get the inner content div


        // Function to show modal
        function showModal(title, content) {
            modalTitle.textContent = title;
            modalContentArea.innerHTML = content;

            // 1. Ensure modal is hidden and clean slate from previous animations
            infoModal.classList.add('hidden'); // Ensure it's hidden before setting initial state
            infoModal.classList.remove('modal-enter-active', 'modal-leave-active', 'modal-leave-to'); // Clean up active/leave states
            modalContentDiv.classList.remove('modal-content-enter-active', 'modal-content-leave-active', 'modal-content-leave-to'); // Clean up content active/leave states

            // 2. Set the initial 'from' state
            infoModal.classList.add('modal-enter-from');
            modalContentDiv.classList.add('modal-content-enter-from');

            // 3. Make element visible, but still in 'from' state
            infoModal.classList.remove('hidden');

            // 4. Force reflow to apply initial 'from' styles
            void infoModal.offsetWidth; // Trigger reflow

            // 5. Apply 'active' state to start transition
            requestAnimationFrame(() => {
                infoModal.classList.remove('modal-enter-from'); // Remove 'from' to transition to default state
                infoModal.classList.add('modal-enter-active'); // Add 'active' to enable transition property

                modalContentDiv.classList.remove('modal-content-enter-from'); // Remove 'from' for content
                modalContentDiv.classList.add('modal-content-enter-active'); // Add 'active' for content transition
            });
        }

        // Function to hide modal
        function hideModal() {
            // 1. Set the 'leave' state (this will trigger the transition *to* 'modal-leave-to' state)
            infoModal.classList.remove('modal-enter-active');
            infoModal.classList.add('modal-leave-active'); // Enable transition property for leaving
            infoModal.classList.add('modal-leave-to'); // Apply final state (opacity 0) for leaving

            const modalContentDiv = infoModal.querySelector('div');
            modalContentDiv.classList.remove('modal-content-enter-active');
            modalContentDiv.classList.add('modal-content-leave-active'); // Enable transition for content
            modalContentDiv.classList.add('modal-content-leave-to'); // Apply final state (translateY 20px) for content

            // 2. Listen for the end of the transition to completely hide the modal
            const onTransitionEnd = (event) => {
                // Ensure the transition is on the outer modal overlay to avoid multiple triggers
                // and that it's the opacity transition ending (or any relevant property for the overlay)
                if (event.target === infoModal && event.propertyName === 'opacity') {
                    infoModal.classList.add('hidden'); // Hide completely
                    // Clean up classes after transition
                    infoModal.classList.remove('modal-leave-active', 'modal-leave-to');
                    modalContentDiv.classList.remove('modal-content-leave-active', 'modal-content-leave-to');
                    infoModal.removeEventListener('transitionend', onTransitionEnd); // Remove listener
                }
            };
            infoModal.addEventListener('transitionend', onTransitionEnd);
        }

        // Attach event listeners
        if (privacyPolicyButton) {
            privacyPolicyButton.addEventListener('click', () => {
                showModal('隐私政策', privacyPolicyContent);
            });
        }

        if (termsOfServiceButton) {
            termsOfServiceButton.addEventListener('click', () => {
                showModal('服务条款', termsOfServiceContent);
            });
        }

        if (modalCloseButton) {
            modalCloseButton.addEventListener('click', hideModal);
        }

        // Close modal when clicking outside content area
        if (infoModal) {
            infoModal.addEventListener('click', (event) => {
                // If the click is on the modal itself and not the content area, close it
                if (event.target === infoModal) {
                    hideModal();
                }
            });
        }

        // --- New code: Check URL parameters on page load to open modal ---
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const showModalParam = urlParams.get('show');

            if (showModalParam === 'privacy') {
                showModal('隐私政策', privacyPolicyContent);
            } else if (showModalParam === 'terms') {
                showModal('服务条款', termsOfServiceContent);
            }
        });

        // Update navigation links to point to the new 'about-us' section
        const aboutUsNavLinkDesktop = document.querySelector('header nav .hidden.md\\:flex a[href="#legal"]');
        if (aboutUsNavLinkDesktop) {
            aboutUsNavLinkDesktop.setAttribute('href', '#about-us'); // Update href to match new section ID
            aboutUsNavLinkDesktop.textContent = '关于我们';
        }
        const aboutUsNavLinkMobile = document.querySelector('#mobile-menu a[href="#legal"]');
        if (aboutUsNavLinkMobile) {
            aboutUsNavLinkMobile.setAttribute('href', '#about-us'); // Update href to match new section ID
            aboutUsNavLinkMobile.textContent = '关于我们';
        }
    </script>
</body>
</html>
